

<template name="MatrixFormHeading">
  <legend>
    <div class="row">
      <div class="col-md-10">
        License Compatibility Form
      </div>
      <div class="col-md-2">
        {{#if isInRole 'admin,editor'}}
          {{#if $exists atts.doc.verifiedBy }}
            <div>Verified by {{verifiedBy}}</div>
          {{/if}}
            {{#if atts.doc.verified }}
              <i class="fa fa-lock"></i>
            {{else}}
              <i class="fa fa-unlock"></i>
            {{/if}}
        {{/if}}
      </div>
    </div>
  </legend>
  <div class="row">
    <div class="col-md-5">{{> spdxLicenseView spdxid=atts.doc.spdxid1 }}</div>
    <div class="col-md-5">{{> spdxLicenseView spdxid=atts.doc.spdxid2 }}</div>
  </div>
</template>

<template name="quickForm_MatrixForm">
  {{> MatrixFormHeading }}
  {{#unless $exists atts.doc.comments }}
    <div>Nobody has submitted information about these licences. Be the first !</div>
    {{#unless currentUser}}Please log in to edit.{{/unless}}
  {{/unless}}
  <div class="comment-section">
      {{> commentsBox id=atts.doc._id}}
  </div>
</template>

<template name="quickForm_MatrixFormModeration">
  {{> MatrixFormHeading }}
  <hr/>
  {{#autoForm id="MatrixFormModeration" class="clearfix" collection="LicenseMatrix" omitFields="spdxid1,spdxid2,verifiedBy" type="update" doc=atts.doc }}
  <fieldset>
    {{> afQuickFields }}
    <div><button type="submit" class="btn btn-primary">Submit</button></div>
  </fieldset>
  {{/autoForm}}
</template>
